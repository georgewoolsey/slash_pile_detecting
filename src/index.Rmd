--- 
title: "Aerial Imagery and Point Cloud Data for Slash Pile Quantification"
author: "George Woolsey"
date: "`r format(Sys.time(), '%d %B, %Y')`"
site: bookdown::bookdown_site
output: 
  bookdown::gitbook:
    includes:
      in_header: header.html
documentclass: book
book_filename: "manitou_slash_piles"
output_dir: "../docs"
language:
  ui:
    chapter_name: "Section "
delete_merged_file: true
bibliography: [packages.bib]
biblio-style: apalike
csl: https://raw.githubusercontent.com/citation-style-language/styles/master/research-institute-for-nature-and-forest.csl
suppress-bibliography: true
lang: en-US
zotero: true
link-citations: true
description: "Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook."
---

# Introduction

Code in support of "A General Method using UAS Data for Automated Slash Pile Detection and Quantification"

Increasing active forest management activities generate non-commercial residues (slash) that are often aggregated into piles for disposal. However, pile burning is associated with increased operational costs and significant external environmental costs ([Mott et al., 2021](https://doi.org/10.1016/j.foreco.2021.119251); [Barker et al., 2025](https://doi.org/10.3389/ffgc.2024.1496190); [Axlund et al., 2025](https://doi.org/10.1016/j.tfp.2025.101081)), motivating the need for improved quantification and management. While remote sensing techniques using point clouds consistently offer improved pile quantification accuracy over traditional field methods ([Trofymow et al., 2014](https://doi.org/10.1139/cjfr-2013-0281); [Guth et al., 2025](https://doi.org/10.3389/ffgc.2025.1663753)), there is a lack of automated methods for simultaneously detecting and quantifying piles across an broad treatment extents. To overcome this we propose a geometry-based, rules-based framework that leverages the proven success of object segmentation frameworks in CWD (e.g. [dos Santos et al., 2025](https://doi.org/10.3390/rs17040651)) and tree detection (e.g. [Tinkham & Woolsey, 2024](https://doi.org/10.3390/rs16203844)) and offers superior managerial relevance due to its inherent traceability and direct alignment with known pile construction parameters defined in silvicultural prescriptions.

## Objective

The objective of this study is to present a training-free, rules-based methodology for identifying slash piles from UAS data. The presented approach aims to enable high transferability by using user-defined geometric and size thresholds to identify pile candidates from aerial point cloud data, which can then be refined through a data fusion process incorporating spectral (i.e. RGB) data when available.

## Data{#data_desc}

We have remote sensing data acquired from a UAS platform and accompanying ground truth data for four different study sites. For all study sites we have:

* Aerial RGB imagery captured by a UAS platform
* Aerial point cloud data generated by processing the UAS imagery using digital aerial photogrammetry (DAP) techniques (specifically, structure from motion [SfM])
* Image-annotated slash pile perimeters digitized in a Geographic Information System (GIS) using field-collected point locations as a guide overlaid on the UAS-collected RGB imagery

For the one study site only we have: 
* Field-collected slash pile point locations with height and diameter measurements

Data from all study sites will be used to validate the slash pile detection methodology. Data from the study site with field-collected pile measurements will be used to test the slash pile quantification accuracies acheived by the proposed methodology. 

The following table provides an overview of the four sites utilized in this study, detailing the unique characteristics of each location and how the data was collected. We structured the validation effort to compare performance across a wide spectrum of data collection platforms, pile sizes, construction methods, and surrounding vegetation types, which required specific parameter adaptations for each site. This summary highlights the distinct ecological and structural challenges inherent to each evaluation site.

| Site Name | Pile Type | Validation Data Type | Unique Features & Ecology | Data Collection (UAS Platform & Parameters) |
| :--- | :--- | :--- | :--- | :--- |
| **PSINF Mixed Conifer Site** | Hand Piles and smaller machine piles | Image-annotated footprints and field-measured height and diameter | Located in the Pike and San Isabel National Forest (PSINF) in CO, US. Mixed conifer stand with variable ground cover and canopy density. | Switchblade-Elite (Vision Aerial) with 24.2 MP RGB sensor (16 mm lens). Altitude xx m, 90% forward and 85% side overlap, 4 m/s speed. |
| **TRFO-BLM Pinyon-Juniper Site** | Hand Piles | Image-annotated footprints based on field collected point locations | Located on BLM land in CO, US. Arid environment with dry vegetation including standing dead pinyon-juniper. Piles are smaller, simpler, and hand-stacked. | Freefly Astro with Sony ILX-LR1 (35mm lens). Altitude 243.84 m (terrain following), 85% forward and 80% side overlap. |
| **BHEF Ponderosa Pine Site** | Machine Piles | Image-annotated footprints | Located in the Black Hills Experimental Forest (BHEF) in SD, US. Piles are massive, mechanically built, and irregularly shaped (e.g. not necessarily circular). Tree regeneration is expected. | DJI Phantom 4 Pro with 20 MP RGB sensor (8.8 mm lens). Altitude 80 m, 90% forward and 85% side overlap, 4 m/s speed. |
| **ARNF Ponderosa Pine Site** | Machine Piles | Image-annotated footprints | Located in the Arapahoe and Roosevelt National Forest (ARNF) in CO, US. Ponderosa pine forest with a climate similar to PSINF. Machine piles are massive but more circular and regular. Less regeneration is expected. | Switchblade-Elite (Vision Aerial) with 24.2 MP RGB sensor (16 mm lens). Altitude xx m, 90% forward and 85% side overlap, 4 m/s speed. |

## Analysis Plan

We will follow the general analysis outline in five distinct sections:

1. **Data Overview:** We will detail the study sites, summarize the number of piles and the pile size based on available measurements, and review the RGB orthomosaic data
2. **Point Cloud Processing:** We will demonstrate how to process the point cloud data to generate the required inputs for the propose pile detection method.
3. **Geometry-based Slash Pile Detection:** We will detail the geometry-based slash pile detection method which uses user-defined thresholds applied to geometric features from a Canopy Height Model (CHM) derived from UAS-DAP point cloud data.
4. **Spectral Refinement Methodology:** We will detail the complementary spectral refinement methodology which uses RGB data to filter the structurally-detected candidate piles.
5. **Method Evaluation:** We will detail and demonstrate our method evaluation process in which we review detection accuracy metrics (e.g. Precision, Recall, F-Score) and quantification accuracy metrics (e.g. height MAPE, diameter RMSE, etc.)
6. **Structural-Only Methodology Evaluation:** We will evaluate the accuracy of the structural-only methodology in terms of slash pile detection (F-score, Recall, Precision) across four distinct treatment units spanning unique prescriptions and forest types.
7. **Data Fusion Methodology Evaluation:** We will evaluate the accuracy of the structural-plus-spectral data fusion methodology in terms of slash pile detection (F-score, Recall, Precision) when using spectral data to refine predictions.
8. **Sensitivity Analysis:** Finally, we will perform a sensitivity analysis on the key user-defined parameters of the proposed method to systematically quantify the impact of each varied parameter on the stability and performance of the slash pile detection.

```{r, include=FALSE, echo=FALSE}
knitr::write_bib(c(
  .packages(),
  "bookdown"
  , "knitr"
  , "rmarkdown"
  , "tidyverse"
  , "viridis"
  , "RColorBrewer"
  , "scales"
  , "latex2exp"
  , "mapview"
  , "kableExtra"
  , "patchwork"
  , "ggnewscale"
  , "terra"
  , "lwgeom"
  , "sf"
  , "brms"
  , "tidybayes"
  , "rgl"
  , "cloud2trees"
), 'packages.bib')
```
